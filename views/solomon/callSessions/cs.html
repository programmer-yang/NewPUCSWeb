<!-- Page -->
<div class="page animsition">

    <div class="page-header">
        <h1 class="page-title">
            Call Sessions
        </h1>
        <p><%=csData%></p>
    </div>
    <div class="page-content container-fluid">
        <!-- Panel -->
        <div class="panel">
            <div class="panel-body">
                <!-- Example Responsive -->
                <div class="example-wrap">
                    <div class="btn-group" aria-label="Button group with nested dropdown" role="group">
                        <button type="button" class="btn btn-outline btn-default">
                            Refresh
                        </button>
                        <button type="button" class="btn btn-outline btn-default">
                            End Session
                        </button>
                    </div>
                    <!--
                    <h4 class="example-title">Basic</h4>
                    -->
                    <!-- Table -->
                    <div class="example table-responsive">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>Caller</th>
                                <th>Calee</th>
                                <th>Session ID</th>
                                <th>Start Time</th>
                                <th>Answered Time</th>
                                <th>Duration</th>
                            </tr>
                            </thead>
                            <tbody>

                            <%
                            if(csData && csData.sessions) {
                            csData.sessions.forEach(function(data, key){
                            %>
                            <tr>
                                <td><%=(key+1)%></td>
                                <td><%=data.caller %></td>
                                <td><%=data.callee %></td>
                                <td><%=data.session_id %></td>
                                <td><%=data.start_time %></td>
                                <td><%=data.answered_time %></td>
                                <td><%=data.duration %></td>
                            </tr>
                            <%
                            });}
                            %>

                            </tbody>
                            <tfoot>
                            <%
                            var colsPanNumber = 7;

                            var page_count = 1;    //总页数
                            var page_current = 1;   //当前页
                            var page_start = 1;     //起始页
                            var page_sum = 5;       //显示总页
                            if((page_current+5-1) < page_count) {
                            page_sum = page_sum+page_current-1;
                            page_start = page_current;
                            }else{
                            page_sum = page_count;
                            if(page_count>5){
                            page_start = page_count - 5;
                            }else{
                            page_start = page_count;
                            }
                            }

                            %>


                            <% include ../page.html%>
                            </tfoot>
                        </table>

                    </div>

                </div>
                <!-- End Example Responsive -->
            </div>
        </div>
        <!-- End Panel -->
    </div>
</div>
<!-- End Page -->